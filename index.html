<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Descargar RU</title>

<style>
body{
    margin:0;
    font-family: Arial, sans-serif;
    background:white;
    color:#BC0032;
    display:flex;
    flex-direction:column;
    min-height:100vh;
}

.main{
    flex:1;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
}

img{
    width:220px;
    height:220px;
    object-fit:cover;
    border:4px solid #BC0032;
    margin-bottom:30px;
}

button{
    background:white;
    color:#BC0032;
    border:3px solid #BC0032;
    padding:14px 30px;
    font-size:16px;
    cursor:pointer;
    transition:0.3s;
}

button:hover{
    background:#BC0032;
    color:white;
}

footer{
    border-top:2px solid #BC0032;
    padding:15px;
    text-align:center;
    font-size:14px;
}
</style>
</head>
<body>

<div class="main">

    <img src="ECOLOGO.jpeg" alt="App Logo">

    <h2 id="info">Cargando 칰ltima versi칩n...</h2>

    <button id="downloadBtn" disabled>
        Descargar
    </button>

</div>

<footer>
    Cont치ctenos: cbtis179.dir@uemstis.sems.gob.mx
</footer>

<script>
async function obtenerUltimaVersion() {

    const usuario = "RMSOFF";
    const repo = "RU";   // 游댠 Solo cambia esto si usas otro repo
    const rama = "main";

    const url = `https://raw.githubusercontent.com/${usuario}/${repo}/${rama}/updates.json`;

    try {

        const response = await fetch(url);
        const data = await response.json();
        const ultima = data[0];

        document.getElementById("info").innerText =
            "Versi칩n " + ultima.versionString;

        const btn = document.getElementById("downloadBtn");
        btn.disabled = false;

        btn.onclick = function(){
            window.location.href = ultima.apkUrl;
        };

    } catch(error) {
        document.getElementById("info").innerText =
            "Error al cargar la versi칩n.";
        console.error(error);
    }
}

obtenerUltimaVersion();
</script>

</body>
</html>
